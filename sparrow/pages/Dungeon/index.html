<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

    <!-- begin SEO -->









<title>Dungeon Example  Smartdown Blog</title>




<meta name="description" content="Character Namevar spriteX;var spriteY;var statusHeight = 30;var controlHeight = 50;var trapezoidWidth = 100;var trapezoidHeight = 200;var upButton, downButton, leftButton, rightButton, spaceButton;p5.setup = function () {  p5.createCanvas(100, 100);  p5.textSize(20);  p5.textFont(&#39;Helvetica&#39;);  p5.strokeWeight(2);  function makeButton(label, right, bottom, keyCode) {    var result = p5.createButton(label);    result.class(&#39;btn-mobile-button&#39;);    result.style(&#39;right&#39;, right + &#39;px&#39;);    result.style(&#39;bottom&#39;, bottom + &#39;px&#39;);    result.size(25, 25);    result.mouseClicked(function() {      p5.handleKey(keyCode);    });    return result;  }  upButton = makeButton(&#39;&amp;uparrow;&#39;, 40, 65, p5.UP_ARROW);  downButton = makeButton(&#39;&amp;downarrow;&#39;, 40, 5, p5.DOWN_ARROW);  leftButton = makeButton(&#39;&amp;leftarrow;&#39;, 70, 35, p5.LEFT_ARROW);  rightButton = makeButton(&#39;&amp;rightarrow;&#39;, 10, 35, p5.RIGHT_ARROW);  spaceButton = makeButton(&#39;&amp;infin;&#39;, 40, 35, 32);  p5.windowResized();};p5.windowResized = function() {  p5.resizeCanvas(p5.windowWidth - 40, 400);  if (!spriteX) {    spriteX = p5.width / 2;  }  if (!spriteY) {    spriteY = p5.height / 2;  }  if (spriteX &gt; p5.width) {    spriteX = p5.width;  }  if (spriteY &gt; p5.height) {    spriteY = p5.height;  }};p5.handleKey = function(key) {  var delta = 5;  if (key === p5.LEFT_ARROW) {    spriteX -= delta;    if (spriteX &lt; 0) {      spriteX = 0;    }  }  else if (key === p5.RIGHT_ARROW) {    spriteX += delta;    if (spriteX &gt; p5.width) {      spriteX = p5.width;    }  }  else if (key === p5.UP_ARROW) {    spriteY -= delta;    if (spriteY &lt; 0) {      spriteY = 0;    }  }  else if (key === p5.DOWN_ARROW) {    spriteY += delta;    if (spriteY &gt; p5.height) {      spriteY = p5.height;    }  }  else if (key === 32) {    spriteX = p5.width / 2;    spriteY = p5.height / 2;  }};p5.keyPressed = function(e) {  var validKeys = [    p5.LEFT_ARROW,    p5.RIGHT_ARROW,    p5.UP_ARROW,    p5.DOWN_ARROW,    32  ];  if (validKeys.indexOf(p5.keyCode) &lt; 0) {    return true;  }  else {    p5.handleKey(p5.keyCode);  }};p5.draw = function () {  // if (p5.keyIsPressed) {  //   p5.keyPressed();  // }  p5.background(&#39;lightgray&#39;);  var forwardViewWidth = p5.width;  var forwardViewHeight = p5.height - statusHeight;  var forwardViewX = 0;  var forwardViewY = statusHeight;  var trapezoidX = forwardViewX + forwardViewWidth / 2 - trapezoidWidth / 2;  var trapezoidY = forwardViewY + forwardViewHeight / 2 - trapezoidHeight / 2;  p5.fill(&#39;lightblue&#39;);  p5.stroke(&#39;darkslateblue&#39;);  p5.rect(trapezoidX, trapezoidY, trapezoidWidth, trapezoidHeight);  p5.fill(&#39;lightyellow&#39;);  p5.quad(    forwardViewX, forwardViewY,    trapezoidX, trapezoidY,    trapezoidX, trapezoidY + trapezoidHeight,    forwardViewX, forwardViewY + forwardViewHeight);  p5.quad(    forwardViewX + forwardViewWidth, forwardViewY,    forwardViewX + trapezoidX + trapezoidWidth, trapezoidY,    forwardViewX + trapezoidX + trapezoidWidth, trapezoidY + trapezoidHeight,    forwardViewX + forwardViewWidth, forwardViewY + forwardViewHeight);  p5.fill(&#39;black&#39;);  p5.stroke(&#39;black&#39;);  var yDelta = 25;  // FIXME - Trigonometry needed here  p5.rect(forwardViewX + forwardViewWidth / 6, forwardViewY + yDelta,          1, forwardViewHeight - 2 * yDelta);  p5.rect(forwardViewX + 5 * forwardViewWidth / 6, forwardViewY + yDelta,          1, forwardViewHeight - 2 * yDelta);  p5.fill(&#39;red&#39;);  p5.stroke(&#39;darkslateblue&#39;);  p5.ellipse(spriteX, spriteY, 10, 10);  p5.fill(&#39;black&#39;);  p5.rect(0, 0, p5.width, statusHeight);  var name = env.N || &#39;Dungeoneer&#39;;  p5.fill(&#39;lightgreen&#39;);  p5.stroke(&#39;lightgreen&#39;);  p5.text(name, 5, 0.75 * statusHeight);};  About smartdown/blog-kit  Graphviz Example  P5JS Ellipse Example  P5JS Mobius Strip Example  About this SitePage Source: /pages/Dungeon.md">



<meta name="author" content="">

<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Smartdown Blog">
<meta property="og:title" content="Dungeon Example">




  <meta property="og:description" content="Character Namevar spriteX;var spriteY;var statusHeight = 30;var controlHeight = 50;var trapezoidWidth = 100;var trapezoidHeight = 200;var upButton, downButton, leftButton, rightButton, spaceButton;p5.setup = function () {  p5.createCanvas(100, 100);  p5.textSize(20);  p5.textFont(&#39;Helvetica&#39;);  p5.strokeWeight(2);  function makeButton(label, right, bottom, keyCode) {    var result = p5.createButton(label);    result.class(&#39;btn-mobile-button&#39;);    result.style(&#39;right&#39;, right + &#39;px&#39;);    result.style(&#39;bottom&#39;, bottom + &#39;px&#39;);    result.size(25, 25);    result.mouseClicked(function() {      p5.handleKey(keyCode);    });    return result;  }  upButton = makeButton(&#39;&amp;uparrow;&#39;, 40, 65, p5.UP_ARROW);  downButton = makeButton(&#39;&amp;downarrow;&#39;, 40, 5, p5.DOWN_ARROW);  leftButton = makeButton(&#39;&amp;leftarrow;&#39;, 70, 35, p5.LEFT_ARROW);  rightButton = makeButton(&#39;&amp;rightarrow;&#39;, 10, 35, p5.RIGHT_ARROW);  spaceButton = makeButton(&#39;&amp;infin;&#39;, 40, 35, 32);  p5.windowResized();};p5.windowResized = function() {  p5.resizeCanvas(p5.windowWidth - 40, 400);  if (!spriteX) {    spriteX = p5.width / 2;  }  if (!spriteY) {    spriteY = p5.height / 2;  }  if (spriteX &gt; p5.width) {    spriteX = p5.width;  }  if (spriteY &gt; p5.height) {    spriteY = p5.height;  }};p5.handleKey = function(key) {  var delta = 5;  if (key === p5.LEFT_ARROW) {    spriteX -= delta;    if (spriteX &lt; 0) {      spriteX = 0;    }  }  else if (key === p5.RIGHT_ARROW) {    spriteX += delta;    if (spriteX &gt; p5.width) {      spriteX = p5.width;    }  }  else if (key === p5.UP_ARROW) {    spriteY -= delta;    if (spriteY &lt; 0) {      spriteY = 0;    }  }  else if (key === p5.DOWN_ARROW) {    spriteY += delta;    if (spriteY &gt; p5.height) {      spriteY = p5.height;    }  }  else if (key === 32) {    spriteX = p5.width / 2;    spriteY = p5.height / 2;  }};p5.keyPressed = function(e) {  var validKeys = [    p5.LEFT_ARROW,    p5.RIGHT_ARROW,    p5.UP_ARROW,    p5.DOWN_ARROW,    32  ];  if (validKeys.indexOf(p5.keyCode) &lt; 0) {    return true;  }  else {    p5.handleKey(p5.keyCode);  }};p5.draw = function () {  // if (p5.keyIsPressed) {  //   p5.keyPressed();  // }  p5.background(&#39;lightgray&#39;);  var forwardViewWidth = p5.width;  var forwardViewHeight = p5.height - statusHeight;  var forwardViewX = 0;  var forwardViewY = statusHeight;  var trapezoidX = forwardViewX + forwardViewWidth / 2 - trapezoidWidth / 2;  var trapezoidY = forwardViewY + forwardViewHeight / 2 - trapezoidHeight / 2;  p5.fill(&#39;lightblue&#39;);  p5.stroke(&#39;darkslateblue&#39;);  p5.rect(trapezoidX, trapezoidY, trapezoidWidth, trapezoidHeight);  p5.fill(&#39;lightyellow&#39;);  p5.quad(    forwardViewX, forwardViewY,    trapezoidX, trapezoidY,    trapezoidX, trapezoidY + trapezoidHeight,    forwardViewX, forwardViewY + forwardViewHeight);  p5.quad(    forwardViewX + forwardViewWidth, forwardViewY,    forwardViewX + trapezoidX + trapezoidWidth, trapezoidY,    forwardViewX + trapezoidX + trapezoidWidth, trapezoidY + trapezoidHeight,    forwardViewX + forwardViewWidth, forwardViewY + forwardViewHeight);  p5.fill(&#39;black&#39;);  p5.stroke(&#39;black&#39;);  var yDelta = 25;  // FIXME - Trigonometry needed here  p5.rect(forwardViewX + forwardViewWidth / 6, forwardViewY + yDelta,          1, forwardViewHeight - 2 * yDelta);  p5.rect(forwardViewX + 5 * forwardViewWidth / 6, forwardViewY + yDelta,          1, forwardViewHeight - 2 * yDelta);  p5.fill(&#39;red&#39;);  p5.stroke(&#39;darkslateblue&#39;);  p5.ellipse(spriteX, spriteY, 10, 10);  p5.fill(&#39;black&#39;);  p5.rect(0, 0, p5.width, statusHeight);  var name = env.N || &#39;Dungeoneer&#39;;  p5.fill(&#39;lightgreen&#39;);  p5.stroke(&#39;lightgreen&#39;);  p5.text(name, 5, 0.75 * statusHeight);};  About smartdown/blog-kit  Graphviz Example  P5JS Ellipse Example  P5JS Mobius Strip Example  About this SitePage Source: /pages/Dungeon.md">







  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2020-04-16T06:51:12-07:00">







    <link href="/blog-kit-test-target/sparrow/feed.xml" type="application/atom+xml" rel="alternate" title="Smartdown Blog Feed">

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
    </script>

    <!-- For all browsers -->
    <link href="https://fonts.googleapis.com/css?family=Gochi+Hand|Heebo:100,300,400,500,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="/blog-kit-test-target/sparrow/assets/css/main.css">
    <link rel="shortcut icon" type="image/x-icon" href="/blog-kit-test-target/sparrow/assets/images/bird.png">
    <meta http-equiv="cleartype" content="on">

    
    <link rel=stylesheet href="https://unpkg.com/smartdown/dist/lib/smartdown.css">
<link rel=stylesheet href="https://unpkg.com/smartdown/dist/lib/fonts.css">
<script type="text/javascript" src="https://unpkg.com/smartdown/dist/lib/smartdown.js">
</script>
<script type="text/javascript" src="https://unpkg.com/smartdown/dist/lib/calc_handlers.js"></script>
<script type="text/x-smartdown" id="Home">
[Character Name](:?N)

```p5js/playable/autoplay

var spriteX;
var spriteY;
var statusHeight = 30;
var controlHeight = 50;
var trapezoidWidth = 100;
var trapezoidHeight = 200;
var upButton, downButton, leftButton, rightButton, spaceButton;

p5.setup = function () {
  p5.createCanvas(100, 100);
  p5.textSize(20);
  p5.textFont('Helvetica');
  p5.strokeWeight(2);

  function makeButton(label, right, bottom, keyCode) {
    var result = p5.createButton(label);
    result.class('btn-mobile-button');
    result.style('right', right + 'px');
    result.style('bottom', bottom + 'px');
    result.size(25, 25);
    result.mouseClicked(function() {
      p5.handleKey(keyCode);
    });
    return result;
  }

  upButton = makeButton('&uparrow;', 40, 65, p5.UP_ARROW);
  downButton = makeButton('&downarrow;', 40, 5, p5.DOWN_ARROW);
  leftButton = makeButton('&leftarrow;', 70, 35, p5.LEFT_ARROW);
  rightButton = makeButton('&rightarrow;', 10, 35, p5.RIGHT_ARROW);
  spaceButton = makeButton('&infin;', 40, 35, 32);

  p5.windowResized();
};

p5.windowResized = function() {
  p5.resizeCanvas(p5.windowWidth - 40, 400);

  if (!spriteX) {
    spriteX = p5.width / 2;
  }
  if (!spriteY) {
    spriteY = p5.height / 2;
  }
  if (spriteX > p5.width) {
    spriteX = p5.width;
  }
  if (spriteY > p5.height) {
    spriteY = p5.height;
  }
};

p5.handleKey = function(key) {
  var delta = 5;
  if (key === p5.LEFT_ARROW) {
    spriteX -= delta;
    if (spriteX < 0) {
      spriteX = 0;
    }
  }
  else if (key === p5.RIGHT_ARROW) {
    spriteX += delta;
    if (spriteX > p5.width) {
      spriteX = p5.width;
    }
  }
  else if (key === p5.UP_ARROW) {
    spriteY -= delta;
    if (spriteY < 0) {
      spriteY = 0;
    }
  }
  else if (key === p5.DOWN_ARROW) {
    spriteY += delta;
    if (spriteY > p5.height) {
      spriteY = p5.height;
    }
  }
  else if (key === 32) {
    spriteX = p5.width / 2;
    spriteY = p5.height / 2;
  }
};

p5.keyPressed = function(e) {
  var validKeys = [
    p5.LEFT_ARROW,
    p5.RIGHT_ARROW,
    p5.UP_ARROW,
    p5.DOWN_ARROW,
    32
  ];

  if (validKeys.indexOf(p5.keyCode) < 0) {
    return true;
  }
  else {
    p5.handleKey(p5.keyCode);
  }
};

p5.draw = function () {
  // if (p5.keyIsPressed) {
  //   p5.keyPressed();
  // }

  p5.background('lightgray');

  var forwardViewWidth = p5.width;
  var forwardViewHeight = p5.height - statusHeight;
  var forwardViewX = 0;
  var forwardViewY = statusHeight;
  var trapezoidX = forwardViewX + forwardViewWidth / 2 - trapezoidWidth / 2;
  var trapezoidY = forwardViewY + forwardViewHeight / 2 - trapezoidHeight / 2;
  p5.fill('lightblue');
  p5.stroke('darkslateblue');
  p5.rect(trapezoidX, trapezoidY, trapezoidWidth, trapezoidHeight);
  p5.fill('lightyellow');
  p5.quad(
    forwardViewX, forwardViewY,
    trapezoidX, trapezoidY,
    trapezoidX, trapezoidY + trapezoidHeight,
    forwardViewX, forwardViewY + forwardViewHeight);
  p5.quad(
    forwardViewX + forwardViewWidth, forwardViewY,
    forwardViewX + trapezoidX + trapezoidWidth, trapezoidY,
    forwardViewX + trapezoidX + trapezoidWidth, trapezoidY + trapezoidHeight,
    forwardViewX + forwardViewWidth, forwardViewY + forwardViewHeight);
  p5.fill('black');
  p5.stroke('black');
  var yDelta = 25;  // FIXME - Trigonometry needed here
  p5.rect(forwardViewX + forwardViewWidth / 6, forwardViewY + yDelta,
          1, forwardViewHeight - 2 * yDelta);
  p5.rect(forwardViewX + 5 * forwardViewWidth / 6, forwardViewY + yDelta,
          1, forwardViewHeight - 2 * yDelta);

  p5.fill('red');
  p5.stroke('darkslateblue');
  p5.ellipse(spriteX, spriteY, 10, 10);

  p5.fill('black');
  p5.rect(0, 0, p5.width, statusHeight);
  var name = env.N || 'Dungeoneer';
  p5.fill('lightgreen');
  p5.stroke('lightgreen');
  p5.text(name, 5, 0.75 * statusHeight);
};

```


---
- [About smartdown/blog-kit](/pages/AboutBlogKit)
- [Graphviz Example](/pages/Graphviz)
- [P5JS Ellipse Example](/pages/Ellipse)
- [P5JS Mobius Strip Example](/pages/Mobius)
- [About this Site](/pages/About)

---

*Page Source: [`/pages/Dungeon.md`](/pages/Dungeon.md#-blank)*


</script>

<style>
  .smartdown-outer-container {
    color: black;
    width: 100%;
  }

  .smartdown-outer-container
    .smartdown-container table {
    display: table;
  }
</style>

    

  </head>

  <body class="layout--page">

    <div id="main" role="main">
  <div class="topnav">
  
    <div class="topnav__avatar">
      
        <img src="/blog-kit-test-target/sparrow/assets/images/bird.png" alt="" />
      
    </div>
  

  <div class="topnav__content">
    <h3 class="site__name">Smartdown Blog</h3>
    
      <p class="site__bio">
        Sparrow Blog Theme adapted for Smartdown
      </p>
    
    
    <nav>
      <ul id="navigation" class="links slimmenu">
        
          
          <li class="menu-item">
            <a href="/blog-kit-test-target/sparrow/">home</a>
            
          </li>
        
          
          <li class="menu-item">
            <a href="/blog-kit-test-target/sparrow/posts">blog</a>
            
          </li>
        
          
          <li class="menu-item">
            <a href="/blog-kit-test-target/sparrow/pages/About/">about</a>
            
          </li>
        
          
          <li class="menu-item">
            <a href="/blog-kit-test-target/sparrow/poetry">poetry</a>
            
          </li>
        
          
          <li class="menu-item">
            <a href="/blog-kit-test-target/sparrow/">submenu</a>
            
              <ul>
                
                  
                  <li><a href="/blog-kit-test-target/sparrow/404">item 1</a></li>
                
                  
                  <li><a href="/blog-kit-test-target/sparrow/404">item 2</a></li>
                
              </ul>
            
          </li>
        
          
          <li class="menu-item">
            <a href="/blog-kit-test-target/sparrow/feed.xml">subscribe</a>
            
          </li>
        
      </ul>
    </nav>
  </div>
</div>

  <div class="page">
      
        <h1 class="page__title">Dungeon Example</h1>
      
      


    <div class="container-fluid smartdown-outer-container smartdown-theme">
      <div class="row">
        <div class="col-xs-12 smartdown-container" id="blog-content">
        </div>
      </div>
    </div>



  </div>
</div>


    <div class="page__footer">
      <footer>
        <div class="page__footer-copyright">&copy; 2020 . Built using <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="http://github.com/lingxz/sparrow" rel="nofollow">Sparrow theme</a> with <span class="page__footer-heart"><i class="fa fa-heart-o" aria-hidden="true"></i></span>.</div>
      </footer>
    </div>
    
    <script src="/blog-kit-test-target/sparrow/assets/js/plugins/jquery-1.12.4.min.js"></script>
    <script src="/blog-kit-test-target/sparrow/assets/js/plugins/rrssb.min.js"></script>
    <script src="/blog-kit-test-target/sparrow/assets/js/slimmenu.js"></script>
    <script src="/blog-kit-test-target/sparrow/assets/js/main.js"></script>
    


    
    <script>
  /* global smartdown */
  var baseURL = '/blog-kit-test-target/sparrow';
  var icons = {
    'hypercube': `/assets/images/Hypercube.svg`,
    'StalactiteStalagmite': `/assets/images/StalactiteStalagmite.svg`
  };

  var multiparts = null;
  var current = null;


  function cardLoaded(url, cardKeySubhash, sourceText) {
    /* eslint no-invalid-this: 0 */
    sourceText = sourceText.trim();
    multiparts = smartdown.partitionMultipart(sourceText);

    if (url.endsWith('.md')) {
      const newPath = url.replace(/\.md$/, '/');
      current = newPath;
      history.pushState(null, null, newPath);
    }

    var output = document.getElementById('blog-content');
    smartdown.setHome(multiparts._default_, output, function() {
      document.body.scrollTop = 0; // For Chrome, Safari and Opera
      document.documentElement.scrollTop = 0; // For IE and Firefox

      if (cardKeySubhash) {
        const target = document.getElementById(cardKeySubhash);
        if (target) {
          target.scrollIntoView();
        }
      }

      smartdown.startAutoplay(output);
    });
  }

  function loadURL(url) {
    var oReq = new XMLHttpRequest();
    let cardKeySubhash = null;
    const hashPos = url.indexOf('#');
    if (hashPos >= 0) {
      cardKeySubhash = url.slice(hashPos + 1);
    }

    oReq.addEventListener('load', function() {
      cardLoaded(url, cardKeySubhash, this.responseText);
    });
    oReq.open('GET', url);
    oReq.send();
  }

  function loadInline() {
    smartdown.loadCardsFromDocumentScripts();
    var s = smartdown.smartdownScripts[0];

    cardLoaded(window.location.href, window.location.hash.slice(1), s.text);
  }

  function cardLoader(cardKey) {
    // console.log('cardLoader', cardKey);
    var part = multiparts[cardKey];
    if (part) {
      var output = document.getElementById('blog-content');
      smartdown.setHome(part, output, function() {
        smartdown.startAutoplay(output);
      });
    }
    else {
      var cardURL = cardKey;
      if (cardKey.indexOf('http') === 0) {
        cardURL = cardKey;
      }
      else {
        const expanded = smartdown.expandHrefWithLinkRules(cardURL);
        // console.log('cardloader', cardURL, expanded);
        cardURL = expanded;
      }
      // else if (cardKey.indexOf('/posts') === 0) {
      //   cardURL = `${baseURL}${cardKey}`;
      //   console.log('cardLoader', cardKey, cardURL);
      // }
      loadURL(cardURL);
    }
  }

  var calcHandlers = smartdown.defaultCalcHandlers;
  const linkRules = [
    {
      prefix: '/posts/',
      replace: baseURL + '/posts/',
    },
    {
      prefix: '/pages/',
      replace: baseURL + '/pages/',
    },
    {
      prefix: '/assets/',
      replace: baseURL + '/assets/',
    },
  ];



  window.addEventListener(
    'popstate',
    function(event) {
      const url = document.location.pathname;
      if (url.endsWith('/')) {
        const newPath = url.replace(/\/$/, '.md');
        // console.log('popstatex: ', url, newPath, current, window.location.hash);
        if (current && url !== current) {
          loadURL(newPath);
        }
      }
    },
    false);
  // window.addEventListener(
  //   'hashchange',
  //   function(event) {
  //     console.log(
  //       'hashchange document.location.pathname: ' + document.location.pathname,
  //       JSON.stringify(event.state));
  //   },
  //   false);

  smartdown.initialize(icons, `https://unpkg.com/smartdown/dist/`, loadInline, cardLoader, calcHandlers, linkRules);
</script>

    

  </body>
</html>
