<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

    <!-- begin SEO -->









<title>A Brief Tour of Smartdown  Smartdown Blog</title>




<meta name="description" content="WelcomeToSmartdownWelcome to SmartdownSmartdown is an extension of Markdown that includes several additions:  Technical notation support, including MathJax LaTeX and AsciiMath syntax, chemical notation via mhchem,  Syntax highlighting via highlight.js.  Reactive cells similar to those in a spreadsheet, but inline with Smartdown prose. These cells can be used for input, output, calculation, and for interacting with internet APIs such as Wikidata.  Media embedding support including Images, Tweets, SVG, Video.  p5.js to support drawing-based visualizations, games, and sound.  Plotly.js to support data visualizations including various plots, charts, and maps.  Leaflet.js for easy embedding of geo-based data and maps.  Graphviz via viz.js diagrams are a standard format used for technical and scientific diagrams  Much MuchMuchMuchMuch moreMap of functionalityUse the navigation buttons below to explore different aspects of Smartdown.  Math  Cells  P5JS  SVG  MermaidNote that the above links are intra-document links in a MultiCard Smartdown document.The links below, however, are inter-document links between one Smartdown document, and another. In both of these cases, no page-reload occurs and state is maintained.Smartdown TourWelcome To My BlogGIF ExampleI’m experimenting with incorporating GIFs for the purpose of building a tutorial. Below is a short video of the Smartdown Viewer being used to edit Smartdown:Post Source: /posts/ABriefTourOfSmartdown.mdSVGSmartdown allows SVG images to be registered and preprocessd so that they can be dynamically styled. For this example, we incorporate an SVG from Wikimedia Hypercube.We can use ordinary Markdown image syntax:Or, we can use Smartdowns /media syntax and amend it with styling:            hypercube      pulse      clockwise      cclockwise      bluegreen                                                                                      Back to HomeMathMath ExampleBy using MathJax, we can display all sorts of notation.We can do inline math: $E = mc^2$Or we can do block math:And even diagrams via xyjax:MathJax $\LaTeX$ vs AsciiMath SyntaxRecently, I learned that MathJax had an alternative syntax, AsciiMath that is simpler for many purposes. Smartdown has enabled this feature, although we are currently using @ as the delimiter instead of ` or $.$\LaTeX$ SyntaxCurrently, Smartdown uses LaTeX-style math syntax, so the following formula:is expressed as:$$\sum_{i=1}^{n} i^3=\left(\frac{n(n+1)}{2}\right)^2$$AsciiMath SyntaxThe above formula is expressed in AsciiMath (using @ as delimiters) as:@sum_(i=1)^n i^3=((n(n+1))/2)^2@which Smartdown now renders as:@sum_(i=1)^n i^3=((n(n+1))/2)^2@Note that AsciiMath via MathJax does not support display-mode equations, but centering can be achieved via Markdown table syntax:            @sum_(i=1)^n i^3=((n(n+1))/2)^2@                  @sum_(i=1)^n i^3=((n(n+1))/2)^2@      Back to HomeMermaidMermaid.js is a Javascript library that uses textual descriptions of diagrams and then renders these dynamically in the browser. From their site:  mermaid is a Javascript based diagramming and charting tool. It generates diagrams flowcharts and more, using markdown-inspired text for ease and speed.Smartdown has embraced Mermaid and makes it easy to embed Mermaid diagrams within prose.%% Example of sequence diagramgraph LR    id1((This is the text in the circle));graph TB   subgraph one   a1--&gt;a2{Rhombus}   end   subgraph two   b1--&gt;b2[This is a really long label.]   end   subgraph three   c1--&gt;c2   end   c1--&gt;a2We can do inline math: $E = mc^2$Back to HomeCellsCells - Reactive Spreadsheet CellsSmartdown uses ordinary Markdown link syntax to specify a cell label and body, where the label is specified in the link label, and the body is specified in the link’s URL. For example, the following declares an output cell that displays the value of the FOO variable:[The value of FOO is](:!FOO)When a non-empty label is present, the cell will be formatted with its label on its own line. When no label is present, then the cell will be formatted inline.Cells with labels get their own line  What is your name?  Glad to meet you  What is your name again?  Really glad to meet you  Are you human?  HumanityCells with no labels are inlinedWhat is your name?  So glad to meet you . What is your name again?  Really glad to meet you .Are you human?  Your Humanity is .External Data QueryThe Smartdown code below is a work in progress and the syntax used is experimental and in flux.One of the goals of Smartdown is to enable simple text files to express rich interactive experiences that involve live data. Ideally, web-based services would already exist to serve the data-hunger of Smartdown. In this example, we are exploring the use of Wikidata as a data source.Limitations of the current tech include:  The Falcor syntax is a hack and is not using the Falcor library.  The current example emphasizes the extraction of thumbnail images from Wikidata and does not display or utilize the full set of metadata returned.WHAT do you want to look up?Examples:  Earth  Penguin  Uranium  Oregon  Abraham Lincoln  WHAT  WHAT thumbnails      WHAT images                                [Albert Einstein          Marie Curie          Max Plank (Slash, Thumbnails)](:=LOOKUP=/wikidataThumbs/Albert%20Einstein          Marie%20Curie          Max%20Plank)                      Albert Einstein (Falcor, Thumbnails)                              [Albert Einstein          Marie Curie          Max Plank (Slash, Original)](:=LOOKUP=/wikidataImages/Albert%20Einstein          Marie%20Curie          Max%20Plank)                      Albert Einstein (Falcor, Original)  Lookup resultBack to HomeP5JSP5JS ExperimentsHere’s a small set of what is possible with Smartdown and p5.js.More examples can be seen at smartdown.site.The Ellipse example below is an /autoplay playable. You can click Stop to see its source. The subsequent Tickle playable is not /autoplay, so you will click Play to play it.P5JS Ellipse Example```p5js /playable/autoplayp5.setup = function() {};p5.draw = function() {  p5.ellipse(50, 50, 80, 80);};##### Tickle example with Instance mode Syntax```p5js/playablevar message = &quot;tickle&quot;,  font,  bounds, // holds x, y, w, h of the text&#39;s bounding box  fontsize = 60,  x, y; // x and y coordinates of the textp5.preload = function preload() {  font = p5.loadFont(&#39;https://unpkg.com/smartdown-gallery/resources/SourceSansPro-Regular.otf&#39;);};p5.setup = function setup() {  p5.createCanvas(410, 250);  // set up the font  p5.textFont(font);  p5.textSize(fontsize);  // get the width and height of the text so we can center it initially  bounds = font.textBounds(message, 0, 0, fontsize);  x = p5.width / 2 - bounds.w / 2;  y = p5.height / 2 - bounds.h / 2;};p5.draw = function draw() {  p5.background(204, 120);  // write the text in black and get its bounding box  p5.fill(0);  p5.text(message, x, y);  bounds = font.textBounds(message,x,y,fontsize);  // check if the mouse is inside the bounding box and tickle if so  if ( p5.mouseX &gt;= bounds.x &amp;&amp; p5.mouseX &lt;= bounds.x + bounds.w &amp;&amp;    p5.mouseY &gt;= bounds.y &amp;&amp; p5.mouseY &lt;= bounds.y + bounds.h) {    x += p5.random(-5, 5);    y += p5.random(-5, 5);  }};Back to Home">



<meta name="author" content="">

<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Smartdown Blog">
<meta property="og:title" content="A Brief Tour of Smartdown">




  <meta property="og:description" content="WelcomeToSmartdownWelcome to SmartdownSmartdown is an extension of Markdown that includes several additions:  Technical notation support, including MathJax LaTeX and AsciiMath syntax, chemical notation via mhchem,  Syntax highlighting via highlight.js.  Reactive cells similar to those in a spreadsheet, but inline with Smartdown prose. These cells can be used for input, output, calculation, and for interacting with internet APIs such as Wikidata.  Media embedding support including Images, Tweets, SVG, Video.  p5.js to support drawing-based visualizations, games, and sound.  Plotly.js to support data visualizations including various plots, charts, and maps.  Leaflet.js for easy embedding of geo-based data and maps.  Graphviz via viz.js diagrams are a standard format used for technical and scientific diagrams  Much MuchMuchMuchMuch moreMap of functionalityUse the navigation buttons below to explore different aspects of Smartdown.  Math  Cells  P5JS  SVG  MermaidNote that the above links are intra-document links in a MultiCard Smartdown document.The links below, however, are inter-document links between one Smartdown document, and another. In both of these cases, no page-reload occurs and state is maintained.Smartdown TourWelcome To My BlogGIF ExampleI’m experimenting with incorporating GIFs for the purpose of building a tutorial. Below is a short video of the Smartdown Viewer being used to edit Smartdown:Post Source: /posts/ABriefTourOfSmartdown.mdSVGSmartdown allows SVG images to be registered and preprocessd so that they can be dynamically styled. For this example, we incorporate an SVG from Wikimedia Hypercube.We can use ordinary Markdown image syntax:Or, we can use Smartdowns /media syntax and amend it with styling:            hypercube      pulse      clockwise      cclockwise      bluegreen                                                                                      Back to HomeMathMath ExampleBy using MathJax, we can display all sorts of notation.We can do inline math: $E = mc^2$Or we can do block math:And even diagrams via xyjax:MathJax $\LaTeX$ vs AsciiMath SyntaxRecently, I learned that MathJax had an alternative syntax, AsciiMath that is simpler for many purposes. Smartdown has enabled this feature, although we are currently using @ as the delimiter instead of ` or $.$\LaTeX$ SyntaxCurrently, Smartdown uses LaTeX-style math syntax, so the following formula:is expressed as:$$\sum_{i=1}^{n} i^3=\left(\frac{n(n+1)}{2}\right)^2$$AsciiMath SyntaxThe above formula is expressed in AsciiMath (using @ as delimiters) as:@sum_(i=1)^n i^3=((n(n+1))/2)^2@which Smartdown now renders as:@sum_(i=1)^n i^3=((n(n+1))/2)^2@Note that AsciiMath via MathJax does not support display-mode equations, but centering can be achieved via Markdown table syntax:            @sum_(i=1)^n i^3=((n(n+1))/2)^2@                  @sum_(i=1)^n i^3=((n(n+1))/2)^2@      Back to HomeMermaidMermaid.js is a Javascript library that uses textual descriptions of diagrams and then renders these dynamically in the browser. From their site:  mermaid is a Javascript based diagramming and charting tool. It generates diagrams flowcharts and more, using markdown-inspired text for ease and speed.Smartdown has embraced Mermaid and makes it easy to embed Mermaid diagrams within prose.%% Example of sequence diagramgraph LR    id1((This is the text in the circle));graph TB   subgraph one   a1--&gt;a2{Rhombus}   end   subgraph two   b1--&gt;b2[This is a really long label.]   end   subgraph three   c1--&gt;c2   end   c1--&gt;a2We can do inline math: $E = mc^2$Back to HomeCellsCells - Reactive Spreadsheet CellsSmartdown uses ordinary Markdown link syntax to specify a cell label and body, where the label is specified in the link label, and the body is specified in the link’s URL. For example, the following declares an output cell that displays the value of the FOO variable:[The value of FOO is](:!FOO)When a non-empty label is present, the cell will be formatted with its label on its own line. When no label is present, then the cell will be formatted inline.Cells with labels get their own line  What is your name?  Glad to meet you  What is your name again?  Really glad to meet you  Are you human?  HumanityCells with no labels are inlinedWhat is your name?  So glad to meet you . What is your name again?  Really glad to meet you .Are you human?  Your Humanity is .External Data QueryThe Smartdown code below is a work in progress and the syntax used is experimental and in flux.One of the goals of Smartdown is to enable simple text files to express rich interactive experiences that involve live data. Ideally, web-based services would already exist to serve the data-hunger of Smartdown. In this example, we are exploring the use of Wikidata as a data source.Limitations of the current tech include:  The Falcor syntax is a hack and is not using the Falcor library.  The current example emphasizes the extraction of thumbnail images from Wikidata and does not display or utilize the full set of metadata returned.WHAT do you want to look up?Examples:  Earth  Penguin  Uranium  Oregon  Abraham Lincoln  WHAT  WHAT thumbnails      WHAT images                                [Albert Einstein          Marie Curie          Max Plank (Slash, Thumbnails)](:=LOOKUP=/wikidataThumbs/Albert%20Einstein          Marie%20Curie          Max%20Plank)                      Albert Einstein (Falcor, Thumbnails)                              [Albert Einstein          Marie Curie          Max Plank (Slash, Original)](:=LOOKUP=/wikidataImages/Albert%20Einstein          Marie%20Curie          Max%20Plank)                      Albert Einstein (Falcor, Original)  Lookup resultBack to HomeP5JSP5JS ExperimentsHere’s a small set of what is possible with Smartdown and p5.js.More examples can be seen at smartdown.site.The Ellipse example below is an /autoplay playable. You can click Stop to see its source. The subsequent Tickle playable is not /autoplay, so you will click Play to play it.P5JS Ellipse Example```p5js /playable/autoplayp5.setup = function() {};p5.draw = function() {  p5.ellipse(50, 50, 80, 80);};##### Tickle example with Instance mode Syntax```p5js/playablevar message = &quot;tickle&quot;,  font,  bounds, // holds x, y, w, h of the text&#39;s bounding box  fontsize = 60,  x, y; // x and y coordinates of the textp5.preload = function preload() {  font = p5.loadFont(&#39;https://unpkg.com/smartdown-gallery/resources/SourceSansPro-Regular.otf&#39;);};p5.setup = function setup() {  p5.createCanvas(410, 250);  // set up the font  p5.textFont(font);  p5.textSize(fontsize);  // get the width and height of the text so we can center it initially  bounds = font.textBounds(message, 0, 0, fontsize);  x = p5.width / 2 - bounds.w / 2;  y = p5.height / 2 - bounds.h / 2;};p5.draw = function draw() {  p5.background(204, 120);  // write the text in black and get its bounding box  p5.fill(0);  p5.text(message, x, y);  bounds = font.textBounds(message,x,y,fontsize);  // check if the mouse is inside the bounding box and tickle if so  if ( p5.mouseX &gt;= bounds.x &amp;&amp; p5.mouseX &lt;= bounds.x + bounds.w &amp;&amp;    p5.mouseY &gt;= bounds.y &amp;&amp; p5.mouseY &lt;= bounds.y + bounds.h) {    x += p5.random(-5, 5);    y += p5.random(-5, 5);  }};Back to Home">







  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2020-02-04T00:00:00-08:00">







    <link href="/blog-kit-test-target/sparrow/feed.xml" type="application/atom+xml" rel="alternate" title="Smartdown Blog Feed">

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
    </script>

    <!-- For all browsers -->
    <link href="https://fonts.googleapis.com/css?family=Gochi+Hand|Heebo:100,300,400,500,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="/blog-kit-test-target/sparrow/assets/css/main.css">
    <link rel="shortcut icon" type="image/x-icon" href="/blog-kit-test-target/sparrow/assets/images/bird.png">
    <meta http-equiv="cleartype" content="on">

    
    <link rel=stylesheet href="https://unpkg.com/smartdown/dist/lib/smartdown.css">
<link rel=stylesheet href="https://unpkg.com/smartdown/dist/lib/fonts.css">
<script type="text/javascript" src="https://unpkg.com/smartdown/dist/lib/smartdown.js">
</script>
<script type="text/javascript" src="https://unpkg.com/smartdown/dist/lib/calc_handlers.js"></script>
<script type="text/x-smartdown" id="Home">
# WelcomeToSmartdown
---

## Welcome to Smartdown

Smartdown is an extension of Markdown that includes several additions:
- Technical notation support, including [MathJax](https://www.mathjax.org) LaTeX and AsciiMath syntax, chemical notation via [`mhchem`](https://mhchem.github.io/MathJax-mhchem/),
- Syntax highlighting via [highlight.js](https://highlightjs.org).
- Reactive cells similar to those in a spreadsheet, but inline with Smartdown prose. These cells can be used for input, output, calculation, and for interacting with internet APIs such as Wikidata.
- Media embedding support including Images, Tweets, SVG, Video.
- [p5.js](https://p5js.org) to support drawing-based visualizations, games, and sound.
- [Plotly.js](https://plot.ly/javascript/) to support data visualizations including various plots, charts, and maps.
- [Leaflet.js](http://leafletjs.com) for easy embedding of geo-based data and maps.
- [Graphviz via `viz.js`](http://viz-js.com) diagrams are a standard format used for technical and scientific diagrams
- Much MuchMuchMuchMuch more


### Map of functionality

Use the navigation buttons below to explore different aspects of Smartdown.

- [Math](:@Math)
- [Cells](:@Cells)
- [P5JS](:@P5JS)
- [SVG](:@SVG)
- [Mermaid](:@Mermaid)

Note that the above links are intra-document links in a MultiCard Smartdown document.

The links below, however, are inter-document links between one Smartdown document, and another. In both of these cases, no page-reload occurs and state is maintained.

[Smartdown Tour](:@/posts/ABriefTourOfSmartdown.md)
[Welcome To My Blog](:@/posts/WelcomeToMyBlog.md)

### GIF Example

I'm experimenting with incorporating GIFs for the purpose of building a tutorial. Below is a short video of the [Smartdown Viewer](https://smartdown.site) being used to edit Smartdown:

![player](/assets/images/Intro.gif)

---


*Post Source: [`/posts/ABriefTourOfSmartdown.md`](/posts/ABriefTourOfSmartdown.md#-blank)*


# SVG
---

Smartdown allows SVG images to be registered and preprocessd so that they can be dynamically styled. For this example, we incorporate an SVG from [Wikimedia Hypercube](https://commons.wikimedia.org/wiki/File:Hypercube.svg).

We can use ordinary Markdown image syntax:

![](https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Hypercube.svg/500px-Hypercube.svg.png)

Or, we can use Smartdowns `/media` syntax and amend it with styling:

|hypercube|pulse|clockwise|cclockwise|bluegreen|
|:---:|:---:|:---:|:---:|:---:|
|![](/media/hypercube)|![](/media/hypercube/pulse)|![](/media/hypercube/clockwise)|![](/media/hypercube/cclockwise)|![](/media/hypercube/bluegreen)|
|![](/media/StalactiteStalagmite)|![](/media/StalactiteStalagmite/pulse)|![](/media/StalactiteStalagmite/clockwise)|![](/media/StalactiteStalagmite/cclockwise)|![](/media/StalactiteStalagmite/bluegreen)|

---

[Back to Home](:@WelcomeToSmartdown)


# Math
---

#### Math Example

By using MathJax, we can display all sorts of notation.

We can do inline math: $E = mc^2$

Or we can do block math:

$$
A \longrightarrow B
$$

$$
\begin{array}{c|lcr}
n & \text{Left} & \text{Center} & \text{Right} \\
\hline
1 & 0.24 & 1 & 125 \\
2 & -1 & 189 & -8 \\
3 & -20 & 2000 & 1+10i
\end{array}
$$

And even diagrams via *xyjax*:

$$
\begin{xy}
0;<1em,0em>:
(1,1);p+/v a(18) 5.5em/**@{-},
(1,3);p+/v a(18) 5.5em/**@2{-},
(1,5);p+/v a(18) 5.5em/**@3{-},
(1,9);p+/v a(18) 5.5em/**@{.},
(1,11);p+/v a(18) 5.5em/**@2{.},
(1,13);p+/v a(18) 5.5em/**@3{..},
\end{xy}
$$

#### MathJax $\LaTeX$ vs AsciiMath Syntax

Recently, I learned that MathJax had an alternative syntax, [AsciiMath](http://asciimath.org) that is simpler for many purposes. Smartdown has enabled this feature, although we are currently using `@` as the delimiter instead of \` or `$`.

##### $\LaTeX$ Syntax

Currently, Smartdown uses LaTeX-style math syntax, so the following formula:

$$
\sum_{i=1}^{n} i^3=\left(\frac{n(n+1)}{2}\right)^2
$$

is expressed as:

```
$$
\sum_{i=1}^{n} i^3=\left(\frac{n(n+1)}{2}\right)^2
$$
```

##### AsciiMath Syntax

The above formula is expressed in AsciiMath (using `@` as delimiters) as:

```
@sum_(i=1)^n i^3=((n(n+1))/2)^2@
```

which Smartdown now renders as:

@sum_(i=1)^n i^3=((n(n+1))/2)^2@

Note that AsciiMath via MathJax does not support *display-mode* equations, but centering can be achieved via Markdown table syntax:


|`@sum_(i=1)^n i^3=((n(n+1))/2)^2@`|
|:---:|
|@sum_(i=1)^n i^3=((n(n+1))/2)^2@|


---

[Back to Home](:@WelcomeToSmartdown)


# Mermaid
---

[Mermaid.js](https://mermaid-js.github.io/mermaid/#/) is a Javascript library that uses textual descriptions of diagrams and then renders these dynamically in the browser. From their site:

> mermaid is a Javascript based diagramming and charting tool. It generates diagrams flowcharts and more, using markdown-inspired text for ease and speed.

Smartdown has embraced Mermaid and makes it easy to embed Mermaid diagrams within prose.

```mermaid/playable

%% Example of sequence diagram

graph LR
    id1((This is the text in the circle));
```

---


```mermaid/playable
graph TB
   subgraph one
   a1-->a2{Rhombus}
   end
   subgraph two
   b1-->b2[This is a really long label.]
   end
   subgraph three
   c1-->c2
   end
   c1-->a2
```

We can do inline math: $E = mc^2$

---

[Back to Home](:@WelcomeToSmartdown)


# Cells
---


## Cells - Reactive Spreadsheet Cells

Smartdown uses ordinary Markdown link syntax to specify a cell *label* and *body*, where the *label* is specified in the link label, and the *body* is specified in the link's URL. For example, the following declares an *output* cell that displays the value of the `FOO` variable:

```markdown
[The value of FOO is](:!FOO)
```

When a non-empty label is present, the cell will be formatted with its label on its own line. When no label is present, then the cell will be formatted inline.

### Cells with labels get their own line

- [What is your name?](:?NAME)
- [Glad to meet you](:!NAME)
- [What is your name again?](:?NAME)
- [Really glad to meet you](:!NAME)
- [Are you human?](:XHUMAN)
- [Humanity](:!HUMAN)


### Cells with no labels are inlined

What is your name? [](:?NAME) So glad to meet you [](:!NAME). What is your name again? [](:?NAME) Really glad to meet you [](:!NAME).
Are you human? [](:XHUMAN) Your Humanity is [](:!HUMAN).



### External Data Query

*The Smartdown code below is a work in progress and the syntax used is experimental and in flux.*

One of the goals of Smartdown is to enable simple text files to express rich interactive experiences that involve live data. Ideally, web-based services would already exist to serve the data-hunger of Smartdown. In this example, we are exploring the use of [Wikidata](https://www.wikidata.org) as a data source.

Limitations of the current tech include:

- The [Falcor](https://netflix.github.io/falcor/) syntax is a hack and is not using the Falcor library.
- The current example emphasizes the extraction of thumbnail images from Wikidata and does not display or utilize the full set of metadata returned.

[WHAT do you want to look up?](:?WHAT)

Examples:
- Earth
- Penguin
- Uranium
- Oregon
- Abraham Lincoln
- [`WHAT`](:=LOOKUP=/wikidata["`WHAT`"])
- [`WHAT` thumbnails](:=LOOKUP=/wikidataThumbs["`WHAT`"])
- [`WHAT` images](:=LOOKUP=/wikidataImages["`WHAT`"])


- [Albert Einstein|Marie Curie|Max Plank (Slash, Thumbnails)](:=LOOKUP=/wikidataThumbs/Albert%20Einstein|Marie%20Curie|Max%20Plank)
- [Albert Einstein (Falcor, Thumbnails)](:=LOOKUP=/wikidataThumbs["Albert%20Einstein"])
- [Albert Einstein|Marie Curie|Max Plank (Slash, Original)](:=LOOKUP=/wikidataImages/Albert%20Einstein|Marie%20Curie|Max%20Plank)
- [Albert Einstein (Falcor, Original)](:=LOOKUP=/wikidataImages["Albert%20Einstein"])
- [Lookup result](:!LOOKUP)

---

[](:!LOOKUP)

---

[Back to Home](:@WelcomeToSmartdown)


# P5JS
---

## P5JS Experiments

Here's a small set of what is possible with Smartdown and [p5.js](https://p5js.org).

More examples can be seen at [smartdown.site](https://smartdown.site).

The Ellipse example below is an `/autoplay` playable. You can click `Stop` to see its source. The subsequent `Tickle` playable is not `/autoplay`, so you will click `Play` to play it.

### P5JS Ellipse Example

```p5js /playable/autoplay
p5.setup = function() {
};

p5.draw = function() {
  p5.ellipse(50, 50, 80, 80);
};
```

##### Tickle example with Instance mode Syntax

```p5js/playable
var message = "tickle",
  font,
  bounds, // holds x, y, w, h of the text's bounding box
  fontsize = 60,
  x, y; // x and y coordinates of the text

p5.preload = function preload() {
  font = p5.loadFont('https://unpkg.com/smartdown-gallery/resources/SourceSansPro-Regular.otf');
};

p5.setup = function setup() {
  p5.createCanvas(410, 250);

  // set up the font
  p5.textFont(font);
  p5.textSize(fontsize);

  // get the width and height of the text so we can center it initially
  bounds = font.textBounds(message, 0, 0, fontsize);
  x = p5.width / 2 - bounds.w / 2;
  y = p5.height / 2 - bounds.h / 2;
};

p5.draw = function draw() {
  p5.background(204, 120);

  // write the text in black and get its bounding box
  p5.fill(0);
  p5.text(message, x, y);
  bounds = font.textBounds(message,x,y,fontsize);

  // check if the mouse is inside the bounding box and tickle if so
  if ( p5.mouseX >= bounds.x && p5.mouseX <= bounds.x + bounds.w &&
    p5.mouseY >= bounds.y && p5.mouseY <= bounds.y + bounds.h) {
    x += p5.random(-5, 5);
    y += p5.random(-5, 5);
  }
};
```

---

[Back to Home](:@WelcomeToSmartdown)

</script>

<style>
  .smartdown-outer-container {
    color: black;
    width: 100%;
  }

  .smartdown-outer-container
    .smartdown-container table {
    display: table;
  }
</style>

    

  </head>

  <body class="layout--post">

    
<nav class="breadcrumbs">
  <ol itemscope="" itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
          <a href="/blog-kit-test-target/sparrow/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
          <a href="/blog-kit-test-target/sparrow/posts" itemprop="item"><span itemprop="name">Posts</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">A Brief Tour of Smartdown</li>
      
    
  </ol>
</nav>

<div id="main" role="main">
  <article class="post" itemscope="" itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="A Brief Tour of Smartdown" />
    <meta itemprop="description" content="WelcomeToSmartdownWelcome to SmartdownSmartdown is an extension of Markdown that includes several additions:  Technical notation support, including MathJax LaTeX and AsciiMath syntax, chemical notation via mhchem,  Syntax highlighting via highlight.js.  Reactive cells similar to those in a spreadsheet, but inline with Smartdown prose. These cells can be used for input, output, calculation, and for interacting with internet APIs such as Wikidata.  Media embedding support including Images, Tweets, SVG, Video.  p5.js to support drawing-based visualizations, games, and sound.  Plotly.js to support data visualizations including various plots, charts, and maps.  Leaflet.js for easy embedding of geo-based data and maps.  Graphviz via viz.js diagrams are a standard format used for technical and scientific diagrams  Much MuchMuchMuchMuch moreMap of functionalityUse the navigation buttons below to explore different aspects of Smartdown.  Math  Cells  P5JS  SVG  MermaidNote that the above links are intra-document links in a MultiCard Smartdown document.The links below, however, are inter-document links between one Smartdown document, and another. In both of these cases, no page-reload occurs and state is maintained.Smartdown TourWelcome To My BlogGIF ExampleI’m experimenting with incorporating GIFs for the purpose of building a tutorial. Below is a short video of the Smartdown Viewer being used to edit Smartdown:Post Source: /posts/ABriefTourOfSmartdown.mdSVGSmartdown allows SVG images to be registered and preprocessd so that they can be dynamically styled. For this example, we incorporate an SVG from Wikimedia Hypercube.We can use ordinary Markdown image syntax:Or, we can use Smartdowns /media syntax and amend it with styling:            hypercube      pulse      clockwise      cclockwise      bluegreen                                                                                      Back to HomeMathMath ExampleBy using MathJax, we can display all sorts of notation.We can do inline math: $E = mc^2$Or we can do block math:And even diagrams via xyjax:MathJax $\LaTeX$ vs AsciiMath SyntaxRecently, I learned that MathJax had an alternative syntax, AsciiMath that is simpler for many purposes. Smartdown has enabled this feature, although we are currently using @ as the delimiter instead of ` or $.$\LaTeX$ SyntaxCurrently, Smartdown uses LaTeX-style math syntax, so the following formula:is expressed as:$$\sum_{i=1}^{n} i^3=\left(\frac{n(n+1)}{2}\right)^2$$AsciiMath SyntaxThe above formula is expressed in AsciiMath (using @ as delimiters) as:@sum_(i=1)^n i^3=((n(n+1))/2)^2@which Smartdown now renders as:@sum_(i=1)^n i^3=((n(n+1))/2)^2@Note that AsciiMath via MathJax does not support display-mode equations, but centering can be achieved via Markdown table syntax:            @sum_(i=1)^n i^3=((n(n+1))/2)^2@                  @sum_(i=1)^n i^3=((n(n+1))/2)^2@      Back to HomeMermaidMermaid.js is a Javascript library that uses textual descriptions of diagrams and then renders these dynamically in the browser. From their site:  mermaid is a Javascript based diagramming and charting tool. It generates diagrams flowcharts and more, using markdown-inspired text for ease and speed.Smartdown has embraced Mermaid and makes it easy to embed Mermaid diagrams within prose.%% Example of sequence diagramgraph LR    id1((This is the text in the circle));graph TB   subgraph one   a1--&gt;a2{Rhombus}   end   subgraph two   b1--&gt;b2[This is a really long label.]   end   subgraph three   c1--&gt;c2   end   c1--&gt;a2We can do inline math: $E = mc^2$Back to HomeCellsCells - Reactive Spreadsheet CellsSmartdown uses ordinary Markdown link syntax to specify a cell label and body, where the label is specified in the link label, and the body is specified in the link’s URL. For example, the following declares an output cell that displays the value of the FOO variable:[The value of FOO is](:!FOO)When a non-empty label is present, the cell will be formatted with its label on its own line. When no label is present, then the cell will be formatted inline.Cells with labels get their own line  What is your name?  Glad to meet you  What is your name again?  Really glad to meet you  Are you human?  HumanityCells with no labels are inlinedWhat is your name?  So glad to meet you . What is your name again?  Really glad to meet you .Are you human?  Your Humanity is .External Data QueryThe Smartdown code below is a work in progress and the syntax used is experimental and in flux.One of the goals of Smartdown is to enable simple text files to express rich interactive experiences that involve live data. Ideally, web-based services would already exist to serve the data-hunger of Smartdown. In this example, we are exploring the use of Wikidata as a data source.Limitations of the current tech include:  The Falcor syntax is a hack and is not using the Falcor library.  The current example emphasizes the extraction of thumbnail images from Wikidata and does not display or utilize the full set of metadata returned.WHAT do you want to look up?Examples:  Earth  Penguin  Uranium  Oregon  Abraham Lincoln  WHAT  WHAT thumbnails      WHAT images                                [Albert Einstein          Marie Curie          Max Plank (Slash, Thumbnails)](:=LOOKUP=/wikidataThumbs/Albert%20Einstein          Marie%20Curie          Max%20Plank)                      Albert Einstein (Falcor, Thumbnails)                              [Albert Einstein          Marie Curie          Max Plank (Slash, Original)](:=LOOKUP=/wikidataImages/Albert%20Einstein          Marie%20Curie          Max%20Plank)                      Albert Einstein (Falcor, Original)  Lookup resultBack to HomeP5JSP5JS ExperimentsHere’s a small set of what is possible with Smartdown and p5.js.More examples can be seen at smartdown.site.The Ellipse example below is an /autoplay playable. You can click Stop to see its source. The subsequent Tickle playable is not /autoplay, so you will click Play to play it.P5JS Ellipse Example```p5js /playable/autoplayp5.setup = function() {};p5.draw = function() {  p5.ellipse(50, 50, 80, 80);};##### Tickle example with Instance mode Syntax```p5js/playablevar message = &quot;tickle&quot;,  font,  bounds, // holds x, y, w, h of the text&#39;s bounding box  fontsize = 60,  x, y; // x and y coordinates of the textp5.preload = function preload() {  font = p5.loadFont(&#39;https://unpkg.com/smartdown-gallery/resources/SourceSansPro-Regular.otf&#39;);};p5.setup = function setup() {  p5.createCanvas(410, 250);  // set up the font  p5.textFont(font);  p5.textSize(fontsize);  // get the width and height of the text so we can center it initially  bounds = font.textBounds(message, 0, 0, fontsize);  x = p5.width / 2 - bounds.w / 2;  y = p5.height / 2 - bounds.h / 2;};p5.draw = function draw() {  p5.background(204, 120);  // write the text in black and get its bounding box  p5.fill(0);  p5.text(message, x, y);  bounds = font.textBounds(message,x,y,fontsize);  // check if the mouse is inside the bounding box and tickle if so  if ( p5.mouseX &gt;= bounds.x &amp;&amp; p5.mouseX &lt;= bounds.x + bounds.w &amp;&amp;    p5.mouseY &gt;= bounds.y &amp;&amp; p5.mouseY &lt;= bounds.y + bounds.h) {    x += p5.random(-5, 5);    y += p5.random(-5, 5);  }};Back to Home" />
    <meta itemprop="datePublished" content="February 04, 2020" />
    

    <div class="post__inner-wrap">
      <header>
        <h1 class="post__title" itemprop="headline">A Brief Tour of Smartdown
</h1>

        
        <p class="post__meta"> <time datetime="2020-02-04T00:00:00-08:00">February 04, 2020 </time></p>
        
      </header>



  
    <div class="smartdown-outer-container smartdown-theme">
      <div class="smartdown-container" id="blog-content">
      </div>
    </div>
  


    </div>

    


  </article>
</div>


    <div class="page__footer">
      <footer>
        <div class="page__footer-copyright">&copy; 2020 . Built using <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="http://github.com/lingxz/sparrow" rel="nofollow">Sparrow theme</a> with <span class="page__footer-heart"><i class="fa fa-heart-o" aria-hidden="true"></i></span>.</div>
      </footer>
    </div>
    
    <script src="/blog-kit-test-target/sparrow/assets/js/plugins/jquery-1.12.4.min.js"></script>
    <script src="/blog-kit-test-target/sparrow/assets/js/plugins/rrssb.min.js"></script>
    <script src="/blog-kit-test-target/sparrow/assets/js/slimmenu.js"></script>
    <script src="/blog-kit-test-target/sparrow/assets/js/main.js"></script>
    


    
    <script>
  /* global smartdown */
  var baseURL = '/blog-kit-test-target/sparrow';
  var icons = {
    'hypercube': `/assets/images/Hypercube.svg`,
    'StalactiteStalagmite': `/assets/images/StalactiteStalagmite.svg`
  };

  var multiparts = null;
  var current = null;


  function cardLoaded(url, cardKeySubhash, sourceText) {
    /* eslint no-invalid-this: 0 */
    sourceText = sourceText.trim();
    multiparts = smartdown.partitionMultipart(sourceText);

    if (url.endsWith('.md')) {
      const newPath = url.replace(/\.md$/, '/');
      current = newPath;
      history.pushState(null, null, newPath);
    }

    var output = document.getElementById('blog-content');
    smartdown.setHome(multiparts._default_, output, function() {
      document.body.scrollTop = 0; // For Chrome, Safari and Opera
      document.documentElement.scrollTop = 0; // For IE and Firefox

      if (cardKeySubhash) {
        const target = document.getElementById(cardKeySubhash);
        if (target) {
          target.scrollIntoView();
        }
      }

      smartdown.startAutoplay(output);
    });
  }

  function loadURL(url) {
    var oReq = new XMLHttpRequest();
    let cardKeySubhash = null;
    const hashPos = url.indexOf('#');
    if (hashPos >= 0) {
      cardKeySubhash = url.slice(hashPos + 1);
    }

    oReq.addEventListener('load', function() {
      cardLoaded(url, cardKeySubhash, this.responseText);
    });
    oReq.open('GET', url);
    oReq.send();
  }

  function loadInline() {
    smartdown.loadCardsFromDocumentScripts();
    var s = smartdown.smartdownScripts[0];

    cardLoaded(window.location.href, window.location.hash.slice(1), s.text);
  }

  function cardLoader(cardKey) {
    // console.log('cardLoader', cardKey);
    var part = multiparts[cardKey];
    if (part) {
      var output = document.getElementById('blog-content');
      smartdown.setHome(part, output, function() {
        smartdown.startAutoplay(output);
      });
    }
    else {
      var cardURL = cardKey;
      if (cardKey.indexOf('http') === 0) {
        cardURL = cardKey;
      }
      else {
        const expanded = smartdown.expandHrefWithLinkRules(cardURL);
        // console.log('cardloader', cardURL, expanded);
        cardURL = expanded;
      }
      // else if (cardKey.indexOf('/posts') === 0) {
      //   cardURL = `${baseURL}${cardKey}`;
      //   console.log('cardLoader', cardKey, cardURL);
      // }
      loadURL(cardURL);
    }
  }

  var calcHandlers = smartdown.defaultCalcHandlers;
  const linkRules = [
    {
      prefix: '/posts/',
      replace: baseURL + '/posts/',
    },
    {
      prefix: '/pages/',
      replace: baseURL + '/pages/',
    },
    {
      prefix: '/assets/',
      replace: baseURL + '/assets/',
    },
  ];



  window.addEventListener(
    'popstate',
    function(event) {
      const url = document.location.pathname;
      if (url.endsWith('/')) {
        const newPath = url.replace(/\/$/, '.md');
        // console.log('popstatex: ', url, newPath, current, window.location.hash);
        if (current && url !== current) {
          loadURL(newPath);
        }
      }
    },
    false);
  // window.addEventListener(
  //   'hashchange',
  //   function(event) {
  //     console.log(
  //       'hashchange document.location.pathname: ' + document.location.pathname,
  //       JSON.stringify(event.state));
  //   },
  //   false);

  smartdown.initialize(icons, `https://unpkg.com/smartdown/dist/`, loadInline, cardLoader, calcHandlers, linkRules);
</script>

    

  </body>
</html>
